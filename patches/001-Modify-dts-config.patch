--- a/arch/arm/boot/dts/mediatek/aud8516m3v4_emmc_32b.dts	2019-03-05 17:41:24.486698585 +0100
+++ b/arch/arm/boot/dts/mediatek/aud8516m3v4_emmc_32b.dts	2019-03-05 17:27:58.290658434 +0100
@@ -10,6 +10,9 @@
  * GNU General Public License for more details.
  */
 
+/* With Arcadyan modification for Djingo-Mini
+ Jared
+ */
 /dts-v1/;
 
 #include "mt8167.dtsi"
@@ -36,7 +39,7 @@
 
 	/* chosen */
 	chosen {
-		bootargs = "console=tty0 console=ttyS0,921600n1 earlycon=uart8250,mmio32,0x11005000 root=/dev/mmcblk0p8 rootwait fsck.repair=yes vmalloc=496M androidboot.hardware=aud8516p1_linux";
+		bootargs = "console=tty0 console=ttyS0,921600n1 earlycon=uart8250,mmio32,0x11005000 root=/dev/mmcblk0p8  rootwait fsck.repair=yes vmalloc=496M androidboot.hardware=aud8516p1_linux";
 	};
 
 /* sensor standardization */
@@ -94,7 +97,7 @@
 		regulator-name = "sdio_fixed_3v3";
 		regulator-min-microvolt = <3300000>;
 		regulator-max-microvolt = <3300000>;
-		gpio = <&pio 2 GPIO_ACTIVE_HIGH>;
+		gpio = <&pio 48 GPIO_ACTIVE_HIGH>;
 		enable-active-high;
 		startup-delay-us = <500000>;
 	};
@@ -134,6 +137,34 @@
 		};
 	};
 */
+	gpio-keys {
+		compatible = "gpio-keys";
+		pinctrl-names = "default";
+		pinctrl-0 = <&gpio_key_default>;
+
+		button@0 {
+			debounce_interval = <50>;
+			gpios = <&pio 9 1>; /* active low */
+			label = "reset";
+			linux,input-type = <0x1>; /* key */
+			linux,code = <116>; /* power */
+		};
+		button@1 {
+			debounce_interval = <50>;
+			gpios = <&pio 50 0>; /* active high */
+			label = "adet";
+			linux,input-type = <0x5>; /* switch */
+			linux,code = <2>; /* HEADPHONE_INSERT */
+		};
+		button@2 {
+			gpios = <&pio 6 0>; /* active high */
+			interrupt-parent = <&pio>;
+			interrupts = <6 IRQ_TYPE_EDGE_FALLING>;
+			label = "dect_int";
+			linux,input-type = <0x12>; /* sound */
+			linux,code = <0>; /* SND_CLICK */
+		};
+	};
 
 	mtcpufreq {
 		compatible = "mediatek,mt8167-cpufreq";
@@ -160,16 +191,28 @@
 	sound: sound {
 		compatible = "mediatek,mt8167s-som";
 		mediatek,platform = <&afe>;
+
+		mediatek,hp-spk-amp-warmup-time-us = <40000>;
+		mediatek,hp-spk-amp-shutdown-time-us = <40000>;
+		pinctrl-names = "default", "extamp_on", "extamp_off";
+		pinctrl-0 = <&aud_pins_default>;
+		pinctrl-1 = <&aud_pins_extamp_on>;
+		pinctrl-2 = <&aud_pins_extamp_off>;
+		extamp-supply = <&extamp_power>;
+		/*
 		pinctrl-names = "default";
 		pinctrl-0 = <&aud_pins_default>;
+		*/
+
 		tdmadc-1p8v-supply = <&mt6392_vcn18_reg>;
 		tdmadc-3p3v-supply = <&mt6392_vmch_reg>;
-		mediatek,audio-codec = <&tas5782m>;
+		/*
+		+ Arcadaya use AUDU7002ACBZ-R7, remove here.
 		mediatek,tdmin-adc = <&tlv320>;
+		*/
 		status = "okay";
 	};
 
-
 	vibrator0:vibrator@0 {
 		compatible = "mediatek,vibrator";
 		vib_timer = <25>;
@@ -213,7 +256,7 @@
 		pinctrl-11 = <&pcfg_combo_utxd_uart_pull_dis_cfgs>;
 		interrupt-parent = <&pio>;
 		interrupts = < 20 IRQ_TYPE_LEVEL_LOW >;	/* WIFI EINT num is 1 active low level-sensitive */
-		status = "disable";
+		status = "disabled";
 	};
 };
 
@@ -295,246 +338,7 @@
 	pinctrl-names = "default";
 	pinctrl-0 = <&i2c1_pins_a>;
 	status = "okay";
-	lp5523@32{
-	compatible = "national,lp5523";
-	reg = <0x32>;
-	enable-gpio = <&pio 105 0>;
-	clock-mode = /bits/ 8 <1>;
-
-	chan0 {
-		chan-name = "d1";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan1 {
-		chan-name = "d2";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan2 {
-		chan-name = "d3";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan3 {
-		chan-name = "d4";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan4 {
-		chan-name = "d5";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan5 {
-		chan-name = "d6";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan6 {
-		chan-name = "d7";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan7 {
-		chan-name = "d8";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan8 {
-		chan-name = "d9";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-	};
-	lp5523@33{
-	compatible = "national,lp5523";
-	reg = <0x33>;
-	enable-gpio = <&pio 105 0>;
-	clock-mode = /bits/ 8 <1>;
-
-	chan0 {
-		chan-name = "d1_1";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan1 {
-		chan-name = "d1_2";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan2 {
-		chan-name = "d1_3";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan3 {
-		chan-name = "d1_4";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan4 {
-		chan-name = "d1_5";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan5 {
-		chan-name = "d1_6";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan6 {
-		chan-name = "d1_7";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan7 {
-		chan-name = "d1_8";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan8 {
-		chan-name = "d1_9";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-    };
-	lp5523@34{
-	compatible = "national,lp5523";
-	reg = <0x34>;
-	enable-gpio = <&pio 105 0>;
-	clock-mode = /bits/ 8 <1>;
-
-	chan0 {
-		chan-name = "d2_1";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan1 {
-		chan-name = "d2_2";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan2 {
-		chan-name = "d2_3";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan3 {
-		chan-name = "d2_4";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan4 {
-		chan-name = "d2_5";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan5 {
-		chan-name = "d2_6";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan6 {
-		chan-name = "d2_7";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan7 {
-		chan-name = "d2_8";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan8 {
-		chan-name = "d2_9";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-    };
-	lp5523@35{
-	compatible = "national,lp5523";
-	reg = <0x35>;
-	enable-gpio = <&pio 105 0>;
-	clock-mode = /bits/ 8 <1>;
-
-	chan0 {
-		chan-name = "d3_1";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan1 {
-		chan-name = "d3_2";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
 
-	chan2 {
-		chan-name = "d3_3";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan3 {
-		chan-name = "d3_4";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan4 {
-		chan-name = "d3_5";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan5 {
-		chan-name = "d3_6";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan6 {
-		chan-name = "d3_7";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan7 {
-		chan-name = "d3_8";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-
-	chan8 {
-		chan-name = "d3_9";
-		led-cur = /bits/ 8 <0x20>;
-		max-cur = /bits/ 8 <0xff>;
-	};
-    };
 	vproc: sym827@60 {
 		compatible = "silergy,sym827-regulator";
 		reg = <0x60>;
@@ -551,7 +355,7 @@
 	tlv320:tlv320aic3101@18 {
 		compatible = "ti,tlv320aic3101";
 		reg = <0x18>;
-		rst-gpio = <&pio 24 0>;
+		rst-gpio = <&pio 68 0>;
 		adc-pos = <0>;
 		ref-ch = <2>;
 		dmic-en =<0>;// 0 for amic, 1 for dmic
@@ -561,7 +365,7 @@
 	tlv320aic3101@19 {
 		compatible = "ti,tlv320aic3101";
 		reg = <0x19>;
-		rst-gpio = <&pio 24 0>;
+		rst-gpio = <&pio 68 0>;
 		adc-pos = <1>;
 		ref-ch = <2>;
 	};
@@ -574,7 +378,7 @@
 	tlv320aic3101@1b {
 		compatible = "ti,tlv320aic3101";
 		reg = <0x1b>;
-		rst-gpio = <&pio 24 0>;
+		rst-gpio = <&pio 68 0>;
 		dmic-en =<1>;// 0 for amic, 1 for dmic
 	};
 };
@@ -585,12 +389,6 @@
 	pinctrl-0 = <&i2c2_pins_a>;
 	status = "okay";
 
-	tas5782m: tas5782m@48 {
-		compatible = "ti,tas5782m";
-		reg = <0x48>;
-		rst-gpio = <&pio 107 0>;
-		mute-gpio = <&pio 108 0>;
-	};
 };
 
 &irrx {
@@ -641,13 +439,15 @@
 	vqmmc-supply = <&mt6392_vio18_reg>;
 	non-removable;
 };
-&mmc2 {
+/* For MT7658 */
+&mmc1 {
+  compatible = "mediatek,mt8167-sdio";
 	pinctrl-names = "default", "state_uhs", "state_dat1", "state_eint";
-	pinctrl-0 = <&mmc2_pins_default>;
-	pinctrl-1 = <&mmc2_pins_uhs>;
-	pinctrl-2 = <&mmc2_pins_dat1>;
-	pinctrl-3 = <&mmc2_dat1_eint>;
-	eint-gpios = <&pio 71 0>;
+	pinctrl-0 = <&mmc1_pins_default>;
+	pinctrl-1 = <&mmc1_pins_uhs>;
+	pinctrl-2 = <&mmc1_pins_dat1>;
+	pinctrl-3 = <&mmc1_dat1_eint>;
+	eint-gpios = <&pio 107 0>;
 	status = "okay";
 	bus-width = <4>;
 	max-frequency = <200000000>;
@@ -690,31 +490,61 @@
 			pinmux = <MT8167_PIN_54_DISP_PWM__FUNC_PWM_B>;
 			};
 };
+	aud_pins_extamp_on: audexampon {
+		pins_cmd_dat {
+			pinmux = <MT8167_PIN_0_EINT0__FUNC_GPIO0>;
+			output-high;
+		};
+	};
+	aud_pins_extamp_off: audexampoff {
+		pins_cmd_dat {
+			pinmux = <MT8167_PIN_0_EINT0__FUNC_GPIO0>;
+			output-low;
+		};
+	};
+
+	extamp_power: fixedregulator@2 {
+		compatible = "regulator-fixed";
+		regulator-name = "extamp_power";
+		regulator-min-microvolt = <5000000>;
+		regulator-max-microvolt = <5000000>;
+		gpio = <&pio 0 0>;
+		enable-active-high;
+	};
 
 	aud_pins_default: audiodefault {
 		pins_cmd_dat {
-			pinmux = <MT8167_PIN_25_EINT25__FUNC_I2S_8CH_MCK>,
-			     <MT8167_PIN_55_I2S_DATA_IN__FUNC_I2S_8CH_DO1>,
-				 <MT8167_PIN_56_I2S_LRCK__FUNC_I2S_8CH_LRCK>,
-				 <MT8167_PIN_57_I2S_BCK__FUNC_I2S_8CH_BCK>,
-				 <MT8167_PIN_100_CMDAT0__FUNC_TDM_RX_MCK>,
-				 <MT8167_PIN_101_CMDAT1__FUNC_TDM_RX_BCK>,
-				 <MT8167_PIN_102_CMMCLK__FUNC_TDM_RX_LRCK>,
-				 <MT8167_PIN_103_CMPCLK__FUNC_TDM_RX_DI>,
+			pinmux = /* <MT8167_PIN_14_EINT14__FUNC_TDM_RX_MCK>, */
+				 <MT8167_PIN_15_EINT15__FUNC_TDM_RX_BCK>,
+				 <MT8167_PIN_16_EINT16__FUNC_TDM_RX_LRCK>,
+				 <MT8167_PIN_17_EINT17__FUNC_TDM_RX_DI>,
 				 <MT8167_PIN_1_EINT1__FUNC_I2S2_DI>,
-				 <MT8167_PIN_36_MRG_CLK__FUNC_I2S0_BCK>,
-				 <MT8167_PIN_37_MRG_SYNC__FUNC_I2S0_LRCK>,
-				 <MT8167_PIN_38_MRG_DI__FUNC_I2S0_DI>,
-				 <MT8167_PIN_20_EINT20__FUNC_I2S3_DO>;
-				 drive-strength = <MTK_DRIVE_4mA>;
-		};
-		pins_cmd_dat1 {
-			pinmux = <MT8167_PIN_22_EINT22__FUNC_SPDIF_OUT>;
-			drive-strength = <MTK_DRIVE_16mA>;
-		};
-		pins_cmd_dat2 {
-			pinmux = <MT8167_PIN_13_EINT13__FUNC_SPDIF_IN>;
-			drive-strength = <MTK_DRIVE_8mA>;
+				 <MT8167_PIN_36_MRG_CLK__FUNC_PCM0_CLK>,
+				 <MT8167_PIN_37_MRG_SYNC__FUNC_PCM0_SYNC>,
+				 <MT8167_PIN_38_MRG_DI__FUNC_PCM0_DI>,
+				 <MT8167_PIN_39_MRG_DO__FUNC_PCM0_DO>,
+				 <MT8167_PIN_55_I2S_DATA_IN__FUNC_I2S0_DI>,
+				 <MT8167_PIN_56_I2S_LRCK__FUNC_I2S0_LRCK>,
+				 <MT8167_PIN_57_I2S_BCK__FUNC_I2S0_BCK>,
+				 <MT8167_PIN_20_EINT20__FUNC_I2S3_DO>,
+				 <MT8167_PIN_13_EINT13__FUNC_SPDIF_IN>;
+				 drive-strength = <MTK_DRIVE_8mA>;
+		};
+			pins_cmd_dat1 {
+		pinmux = <MT8167_PIN_22_EINT22__FUNC_SPDIF_OUT>;
+		 drive-strength = <MTK_DRIVE_16mA>;
+		};
+		pins_extamp_default {
+		pinmux = <MT8167_PIN_0_EINT0__FUNC_GPIO0>;
+		output-low;
+		};
+		pins_mute_led {
+		pinmux = <MT8167_PIN_24_EINT24__FUNC_GPIO24>;
+		output-high;
+		};
+		pins_dect_wake {
+		pinmux = <MT8167_PIN_12_EINT12__FUNC_GPIO12>;
+		output-high;
 		};
 	};
 /*
@@ -729,6 +559,19 @@
 
 	};
 */
+	gpio_key_default: keysdefault {
+
+		pins_cmd_dat {
+			pins = <MT8167_PIN_50_SPI_MI__FUNC_GPIO50>;
+			slew-rate = <0>;
+			bias-disable;
+		};
+		pins_cmd_dat1 {
+			pinmux = <MT8167_PIN_9_EINT9__FUNC_GPIO9>;
+			slew-rate = <0>;
+			bias-disable;
+		};
+	};
 	
 	/* CONSYS GPIO Settings - Start */
 	consys_pins_default: default {
@@ -813,8 +656,7 @@
 
 	keypad_pins_default:keypaddefault {
 		pins_row {
-			pinmux = <MT8167_PIN_40_KPROW0__FUNC_KPROW0>,
-				 <MT8167_PIN_41_KPROW1__FUNC_KPROW1>;
+			pinmux = <MT8167_PIN_40_KPROW0__FUNC_KPROW0>;
 			output-low;
 			bias-pull-down = <100>;
 		};
@@ -880,56 +722,57 @@
 			bias-pull-up;
 		};
 	};
-	mmc2_pins_default: mmc2default {
+
+	mmc1_pins_default: mmc1default {
 		pins_cmd_dat {
-			pinmux = <MT8167_PIN_70_MSDC2_DAT0__FUNC_MSDC2_DAT0>,
-				<MT8167_PIN_71_MSDC2_DAT1__FUNC_MSDC2_DAT1>,
-				<MT8167_PIN_72_MSDC2_DAT2__FUNC_MSDC2_DAT2>,
-				<MT8167_PIN_73_MSDC2_DAT3__FUNC_MSDC2_DAT3>,
-				<MT8167_PIN_68_MSDC2_CMD__FUNC_MSDC2_CMD>;
+			pinmux = <MT8167_PIN_106_MSDC1_DAT0__FUNC_MSDC1_DAT0>,
+				<MT8167_PIN_107_MSDC1_DAT1__FUNC_MSDC1_DAT1>,
+				<MT8167_PIN_108_MSDC1_DAT2__FUNC_MSDC1_DAT2>,
+				<MT8167_PIN_109_MSDC1_DAT3__FUNC_MSDC1_DAT3>,
+				<MT8167_PIN_104_MSDC1_CMD__FUNC_MSDC1_CMD>;
 			input-enable;
 			drive-strength = <MTK_DRIVE_6mA>;
 			bias-pull-up = <MTK_PUPD_SET_R1R0_01>;
 		};
 
 		pins_clk {
-			pinmux = <MT8167_PIN_69_MSDC2_CLK__FUNC_MSDC2_CLK>;
+			pinmux = <MT8167_PIN_105_MSDC1_CLK__FUNC_MSDC1_CLK>;
 			drive-strength = <MTK_DRIVE_6mA>;
 			bias-pull-down = <MTK_PUPD_SET_R1R0_10>;
 		};
 	};
 
-	mmc2_pins_uhs: mmc2@0 {
+	mmc1_pins_uhs: mmc1@0 {
 		pins_cmd_dat {
-			pinmux = <MT8167_PIN_70_MSDC2_DAT0__FUNC_MSDC2_DAT0>,
-				<MT8167_PIN_71_MSDC2_DAT1__FUNC_MSDC2_DAT1>,
-				<MT8167_PIN_72_MSDC2_DAT2__FUNC_MSDC2_DAT2>,
-				<MT8167_PIN_73_MSDC2_DAT3__FUNC_MSDC2_DAT3>,
-				<MT8167_PIN_68_MSDC2_CMD__FUNC_MSDC2_CMD>;
+			pinmux = <MT8167_PIN_106_MSDC1_DAT0__FUNC_MSDC1_DAT0>,
+				<MT8167_PIN_107_MSDC1_DAT1__FUNC_MSDC1_DAT1>,
+				<MT8167_PIN_108_MSDC1_DAT2__FUNC_MSDC1_DAT2>,
+				<MT8167_PIN_109_MSDC1_DAT3__FUNC_MSDC1_DAT3>,
+				<MT8167_PIN_104_MSDC1_CMD__FUNC_MSDC1_CMD>;
 			input-enable;
 			drive-strength = <MTK_DRIVE_6mA>;
 			bias-pull-up = <MTK_PUPD_SET_R1R0_01>;
 		};
 
 		pins_clk {
-			pinmux = <MT8167_PIN_69_MSDC2_CLK__FUNC_MSDC2_CLK>;
+			pinmux = <MT8167_PIN_105_MSDC1_CLK__FUNC_MSDC1_CLK>;
 			drive-strength = <MTK_DRIVE_8mA>;
 			bias-pull-down = <MTK_PUPD_SET_R1R0_10>;
 		};
 	};
 
-	mmc2_pins_dat1: mmc2_dat1 {
+	mmc1_pins_dat1: mmc1_dat1 {
 		pins_dat1 {
-			pinmux = <MT8167_PIN_71_MSDC2_DAT1__FUNC_MSDC2_DAT1>;
+			pinmux = <MT8167_PIN_107_MSDC1_DAT1__FUNC_MSDC1_DAT1>;
 			input-enable;
 			drive-strength = <MTK_DRIVE_8mA>;
 			bias-pull-up = <MTK_PUPD_SET_R1R0_10>;
 		};
 	};
 
-	mmc2_dat1_eint: dat1_eint {
+	mmc1_dat1_eint: dat1_eint {
 		pins_dat1 {
-			pinmux = <MT8167_PIN_71_MSDC2_DAT1__FUNC_GPIO71>;
+			pinmux = <MT8167_PIN_107_MSDC1_DAT1__FUNC_GPIO107>;
 			input-enable;
 			bias-pull-up = <MTK_PUPD_SET_R1R0_10>;
 		};
@@ -952,14 +795,14 @@
 		};
 
 		pins_cmd {
-			pinmux = <MT8167_PIN_14_EINT14__FUNC_NCLE>,
-				<MT8167_PIN_17_EINT17__FUNC_NREB>,
+			pinmux = /*<MT8167_PIN_14_EINT14__FUNC_NCLE>,*/
+				/*<MT8167_PIN_17_EINT17__FUNC_NREB>,*/
 				/*<MT8167_PIN_22_EINT22__FUNC_NRE_C>,*/
 				/*<MT8167_PIN_23_EINT23__FUNC_NDQS_C>,*/
 				<MT8167_PIN_115_MSDC0_CMD__FUNC_NALE>,
 				<MT8167_PIN_116_MSDC0_CLK__FUNC_NWEB>,
-				<MT8167_PIN_15_EINT15__FUNC_NCEB1>,
-				<MT8167_PIN_16_EINT16__FUNC_NCEB0>,
+				/*<MT8167_PIN_15_EINT15__FUNC_NCEB1>,*/
+				/*<MT8167_PIN_16_EINT16__FUNC_NCEB0>,*/
 				<MT8167_PIN_21_EINT21__FUNC_NRNB>;
 			drive-strength = <MTK_DRIVE_6mA>;
 			bias-pull-up = <MTK_PUPD_SET_R1R0_10>;
@@ -969,15 +812,11 @@
 /* Connectivity GPIO start */
 	pcfg_combo_pmu_en_pull_dis_cfgs:cfg_pmu_en_pull_dis {
 		combo_pins {
-			pins = <MT8167_PIN_48_SPI_CS__FUNC_GPIO48>;
-			bias-disable;
 		};
 	};
 
 	pcfg_combo_pmu_en_in_pulldown_cfgs:cfg_pmu_en_in_pulldown {
 		combo_pins {
-			pins = <MT8167_PIN_48_SPI_CS__FUNC_GPIO48>;
-			bias-pull-down;
 		};
 	};
 
@@ -1083,7 +922,7 @@
 
 	usb0_iddig: iddig_irq_init {
 		pins_cmd_dat {
-			pins = <MT8167_PIN_19_EINT19__FUNC_IDDIG>;
+			pins = <MT8167_PIN_41_KPROW1__FUNC_IDDIG>;
 			slew-rate = <0>;
 			bias-pull-up = <00>;
 		};
@@ -1156,6 +995,7 @@
 &uart2 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&uart2_pin>;
+	status="okay";
 };
 
 &usb0 {
@@ -1168,7 +1008,7 @@
 	pinctrl-3 = <&usb0_drvvbus_high>;
 	status = "okay";
 	drvvbus_gpio = <&pio 49 2>;
-	iddig_gpio = <&pio 19 2>;
+	iddig_gpio = <&pio 41 2>;
 };
 
 &pwm {
@@ -1176,3 +1016,20 @@
 	pinctrl-0 = <&pwm_goio_def_cfg>;
 	status = "okay";
 };
+&mt6392_vmc_reg { 
+	regulator-always-on; 
+}; 
+
+&mt6392_vmch_reg { 
+	regulator-always-on; 
+}; 
+
+&mt6392_vemc3v3_reg { 
+	regulator-always-on; 
+}; 
+
+&mt6392_vgp1_reg { 
+	regulator-boot-on; 
+	regulator-always-on; 
+}; 
+

--- a/arch/arm/boot/dts/mediatek/mt8167.dtsi	2019-03-05 17:41:24.486698585 +0100
+++ b/arch/arm/boot/dts/mediatek/mt8167.dtsi	2019-03-05 17:27:58.290658434 +0100
@@ -540,7 +540,7 @@
 		xo: xo@10210000 {
 			compatible = "mediatek,mt8167-xo";
 			reg = <0 0x10210000 0 0x1000>;
-			default_capid = <0x00>;
+			default_capid = <0x55>;
 			clocks = <&topckgen CLK_TOP_BSI>,
 				 <&topckgen CLK_TOP_RG_BSI>,
 				 <&topckgen CLK_TOP_BSI_SEL>,
@@ -1052,8 +1052,8 @@
 			reg = <0 0x11170000 0 0x1000>;
 			interrupts = <GIC_SPI 109 IRQ_TYPE_LEVEL_LOW>;
 			/* power domain always on */
-			clocks = <&topckgen CLK_TOP_RG_MSDC2>,
-				<&topckgen CLK_TOP_MSDC2>,
+			clocks = <&topckgen CLK_TOP_MSDC2>,
+			        <&topckgen CLK_TOP_RG_MSDC2>,
 			        <&topckgen CLK_TOP_MSDC2_INFRA>;
 			clock-names = "source", "hclk", "source_cg";
 			status = "disabled";
